<form [formGroup]="deviceProfileForm">
  <formly-form [form]="deviceProfileForm"
               [fields]="deviceProfileFormFields"
               [model]="deviceProfileFormModel">
  </formly-form>

  <mat-card-actions>
    <button mat-button color="accent" [matMenuTriggerFor]="menu">DELETE NOTE
      <mat-menu #menu="matMenu" xPosition="before">
        <button *ngFor="let field of deviceProfileFormFields"
                mat-menu-item
                (click)="remove(field.key, field.props!.label!)">{{field.props?.label}}
        </button>
      </mat-menu>
    </button>
    <button mat-button (click)="add()">ADD NOTE</button>
    <button mat-button color="primary" (click)="save()"
            [disabled]="!deviceProfileForm.dirty">SAVE
    </button>
  </mat-card-actions>
</form>
