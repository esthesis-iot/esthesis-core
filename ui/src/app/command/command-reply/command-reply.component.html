<mat-card>
  <mat-card-title>
    Command
  </mat-card-title>
  <mat-card-content>
    <mat-card>
      <mat-card-title>Command details</mat-card-title>
      <mat-card-content>
        <div fxLayout="column" class="mt1 command-request">
          <div fxLayout="row">
            <div class="label-text">Id:</div>
            <div>{{commandRequest.id}}</div>
          </div>
          <div fxLayout="row">
            <div class="label-text">Type:</div>
            <div>
              <div *ngIf="commandRequest.commandType === appConstants.DEVICE.COMMAND.TYPE.EXECUTE">
                Execute
              </div>
              <div *ngIf="commandRequest.commandType === appConstants.DEVICE.COMMAND.TYPE.HEALTH">
                Health
              </div>
              <div *ngIf="commandRequest.commandType === appConstants.DEVICE.COMMAND.TYPE.PING">
                Ping
              </div>
              <div *ngIf="commandRequest.commandType === appConstants.DEVICE.COMMAND.TYPE.FIRMWARE">
                Firmware
              </div>
              <div *ngIf="commandRequest.commandType === appConstants.DEVICE.COMMAND.TYPE.REBOOT">
                Reboot
              </div>
              <div *ngIf="commandRequest.commandType === appConstants.DEVICE.COMMAND.TYPE.SHUTDOWN">
                Shutdown
              </div>
            </div>
          </div>
          <div fxLayout="row">
            <div class="label-text">Execution:</div>
            <div>
              <div
                *ngIf="commandRequest.executionType === appConstants.DEVICE.COMMAND.EXECUTION.ASYNCHRONOUS">
                Asynchronous
              </div>
              <div
                *ngIf="commandRequest.executionType === appConstants.DEVICE.COMMAND.EXECUTION.SYNCHRONOUS">
                Synchronous
              </div>
            </div>
          </div>
          <div fxLayout="row">
            <div class="label-text">Command:</div>
            <div>{{commandRequest.command}}</div>
          </div>
          <div fxLayout="row">
            <div class="label-text">Arguments:</div>
            <div>{{commandRequest.arguments}}</div>
          </div>
          <div fxLayout="row">
            <div class="label-text">Created On:</div>
            <div>{{commandRequest.createdOn | amFromUtc | amLocal | amDateFormat: 'YYYY-MM-DD HH:mm:ss Z'}}</div>
          </div>
          <div fxLayout="row">
            <div class="label-text">Executed On:</div>
            <div>{{commandRequest.executedOn | amFromUtc | amLocal | amDateFormat: 'YYYY-MM-DD HH:mm:ss Z'}}</div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="mt1">
      <mat-card-title>Reply details</mat-card-title>
      <mat-card-content *ngIf="commandReply">
        <div fxLayout="column" class="mt1 command-request" *ngIf="commandReply">
          <div fxLayout="row">
            <div class="label-text">Hardware Id:</div>
            <div>{{commandReply.hardwareId}}</div>
          </div>
          <div fxLayout="row">
            <div class="label-text">Reply type:</div>
            <div *ngIf="commandReply.success">Successful execution</div>
            <div *ngIf="!commandReply.success">Failed execution</div>
          </div>
          <div fxLayout="row" class="mt1">
            <div class="label-text">Output:<br>
              <button mat-button (click)="copyOutputToClipboard()" matTooltip="Copy to clipboard">
                <mat-icon>content_paste</mat-icon>
              </button>
            </div>
            <pre class="command-output">{{commandReply.output}}</pre>
          </div>
        </div>
      </mat-card-content>
      <mat-card-content *ngIf="!commandReply">
        No reply was found for this command.
      </mat-card-content>
    </mat-card>
  </mat-card-content>
  <mat-card-actions>
    <button mat-button color="warn" (click)="deleteReply()" *ngIf="commandReply">
      DELETE REPLY
    </button>
    <button mat-button color="warn" (click)="deleteCommand()">
      DELETE COMMAND
    </button>
  </mat-card-actions>
</mat-card>
